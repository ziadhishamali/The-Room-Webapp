{"version":3,"sources":["images/man.svg","images/woman.svg","images/icons/back.svg","images/icons/friends.svg","images/icons/menu.svg","images/icons/next.svg","images/icons/logout-white.svg","images/icons/design-white.png","images/icons/edit-white.png","components/view/ViewFriends.js","components/view/ViewSearching.js","components/view/IconMenu.js","components/auth/firebase.js","contexts/LogContext.js","components/layout/Friends.js","components/view/ViewMessages.js","components/layout/ChatArea.js","components/view/ViewButton.js","components/layout/Informations.js","components/layout/Home.js","components/auth/Signin.js","components/auth/Signup.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","ViewFriends","_ref","friends","current","selectFriend","background","idx","view","length","map","friend","react_default","a","createElement","key","className","onClick","src","image","alt","name","ViewSearching","searchList","addFriend","element","IconMenu","icon","changeVisibility","direction","fireApp","firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","db","firestore","auth","LogContext","createContext","LogContextProvider","state","signedin","usersRef","firebaseUser","firstName","lastName","gender","listeners","setFirstName","_this","setState","setLastName","setImage","setGender","setUsersRef","setFriends","doc","uid","update","addListener","listener","concat","Object","toConsumableArray","triggerLogout","_this2","this","onAuthStateChanged","props","history","push","console","log","Provider","value","objectSpread","changeSignedIn","signInVerify","children","Component","withRouter","Friends","width","window","innerWidth","searching","getIcon","iconName","changeVisibilityFunc","context","view_IconMenu","changeSearchingFalse","setTimeout","search","e","target","split","searchListID","where","get","then","querySnapshot","forEach","sitem","includes","id","data","status","undefined","addedFriend","flag","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","err","return","updateFriends","selectedFriend","changeVisibilityFriends","updateSelected","addEventListener","_this3","removeEventListener","_this4","backIcon","onBlur","onChange","placeholder","view_ViewSearching","view_ViewFriends","contextType","ViewMessages","messages","you","getMessageStatus","message","from","content","ChatArea","messageStatus","showIcon","changeMessage","myId","messagesRef","messagesDocId","defineProperty","sendMessage","hisStatus","blurChanged","onbeforeunload","messageBody","document","querySelector","scrollTop","scrollHeight","friendsIcon","menuIcon","changeVisibilityInfo","view_ViewMessages","ViewButton","label","color","Informations","logOut","signOut","view_ViewButton","logout","design","changeColor","edit","Home","_isMounted","colors","currentColor","loaded","friendsVisible","infoVisible","statusName","getHomeClass","homeClass","_this$context","realFriends","friendsTemp","friendsSec","_this$context2","hisId","collection","messagesListener","onSnapshot","exists","_this$setState","myStatus","_messagesRef$doc$set","set","statusListener","mes","to","_this$context3","usersListener","firstTime","fr","man","woman","layout_Friends","layout_ChatArea","layout_Informations","Signin","email","password","changeEmail","changePassword","submit","preventDefault","signInWithEmailAndPassword","catch","error","onSubmit","type","Signup","imageUrl","changeFirst","changeLast","changeGender","createUserWithEmailAndPassword","required","App","react_router_dom","contexts_LogContext","react_router","exact","path","render","layout_Home","component","Boolean","location","hostname","match","ReactDOM","src_App","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e3685f44.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/man.dabcdaa2.svg\";","module.exports = __webpack_public_path__ + \"static/media/woman.038dbd32.svg\";","module.exports = __webpack_public_path__ + \"static/media/back.334e40b3.svg\";","module.exports = __webpack_public_path__ + \"static/media/friends.0428f63c.svg\";","module.exports = __webpack_public_path__ + \"static/media/menu.579e1961.svg\";","module.exports = __webpack_public_path__ + \"static/media/next.bbd22377.svg\";","module.exports = __webpack_public_path__ + \"static/media/logout-white.325d95a2.svg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAC/klEQVR4Ae3bA8xkSRiF4TO2bQRr24zWthGsbdu2be+EE41t27Z/pPudeFSDr+7trpqknjg51ygrL0mSJEmSJAm1OJKreIrv6Mt4FlDBJhYynr58x9NczZHUUpw4nFfpSwW7s5F+vMLp1FYsaMG9jMVqNb9wUfDnQXteYz3+FvA87RUGdXiNCrJby4MBXigOYTz5mcqZKh9q8jTV5O07Wqsc6EA/SmN5GZ4Dp7CS7VXwAT0liZ58QAXbsuSKPEMNlQ6XUsX2FrD/Npn9WQDgnfuDmioN7mRHBU7QdjiegncO4GuVAjfg8pUc+NKSc3hDeeNiCrgcKweOseUcHlGeOJgK3JrKgabWnMMNyguNmY0bNHZvYc05FDhU+eB3ACjrKwQwIZcqBuexK1/Lga/sOaenlBX1mMuuFDlO2+E4ivac0yY6KRueZXcWsK+2wr4s8M05fJP1812HW2mqEi77yh+PEd778kVdlhHeGurJD1cTh+vlh97E4U/5oCNF00doYNzvBmrJjntt9XkD+35Pkx3/2+rzBvb93i0rarDeVp83sO/3M1lxpLUyZmDf7wBZcZO1Pm9g3+80WfGatT5vYN/vUlnxX1SvUEFWjLXW5w3s+62SFbOt9XkD+35XyooV1vq8gX2/Y2VFESCSqgT8ISuqiMkjsmIlMTleVswlHgupKSvGE4+XstRFw6uktex4g1h8KB/cShzW0kI+OJI43Cw/1GQd4f0kf/QitIHUkT/uI6xhtFQWdKZION9RX1nRmzDmcrbywLWUXwXPU1/5oC5LKKcpvEs35YlHKIe5fMfNdFb+aMJa8rKRN+mscuMZ8jGTngqBeswlu0oOVCicR3ZvKSR+I6t9FRJNmEUWRWooLA6hCn+VCo9zKOCvm8LjBvw9rBhwF76W0Vkx4FKq8DOORooBp7Ay/GsUZuLraBnEOPW4UjHhECZjs15xoa5x+v0QGcS4AOJmxYmW3MsEdmcQNRUzjtzlIqAJdNpbl2HBDG6nnnKXJEmSJEmSbAb9YMqO3ntLRwAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAABIklEQVR4AWIYBYB26gBDwQAMwrCQLNAN9ixr9wp7iGUtCPCzIeAn6CxBkBCobhCgC4QAmnwIEWWgmZr3BM/ApJRSSik9PnxhjQO2aNBx5P/hiHNTdN34v7hshq4d33YCBrjeDD1nfjVHz5mvPwH/uN0cb6r8D9zXUndC+zoTFui4T/jRIfepCSud49zhnZiwV/p9ZsJGh89N+BbiExPGQnxiwkSIT0xQ4hMTWiE+MUGJT0xQ4hMThkJ8YsKnEp+YIMInJkjxiQlifGJC35nPHmf44YcffuPNH3nz22fmhx9++OGHH3744Yc/8uY33vxB+OGHHz6XNb+y5lfW/MqaX1nzK2t+Zc2vrPmVNb+y5lfW/MqaX1nzK2t+pc9PKaWUUkonKMrhlfEqSjMAAAAASUVORK5CYII=\"","import React from 'react';\r\n\r\nconst ViewFriends = ({friends, current, selectFriend}) => {\r\n\r\n    const background = (idx) => {\r\n        if (idx === current) {\r\n            return \"friend-item align black-background-trans\";\r\n        } else {\r\n            return \"friend-item align\";\r\n        }\r\n    }\r\n\r\n    const view = friends.length ? (\r\n        friends.map((friend, idx) => {\r\n            return (\r\n                <div key={idx} className={background(idx)} onClick={() => selectFriend(idx)}>\r\n                    <img src={friend.image} alt=\"img\" className=\"friend-image margin-left box-shadow\"/>\r\n                    <div className=\"flex-column margin-left justify align\">\r\n                        <span className=\"small-text white-text berlin-font light-weight\">{friend.name}</span><br/>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n    ) : (\r\n        <div>\r\n            <span className=\"medium-text berlin-font white-text\">you don't have friends yet !!</span><br/>\r\n            <button className=\"submit-button button-orange small-text berlin-font margin-top\">Add Friends</button>\r\n        </div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"friends-list\">\r\n            {view}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewFriends","import React from 'react';\r\n\r\nconst ViewSearching = ({searchList, addFriend}) => {\r\n    const view = searchList.length ? (\r\n        searchList.map((element, idx) => {\r\n            return (\r\n                <div key={idx} className=\"friend-item align\" onClick={() => addFriend(idx)}>\r\n                        <span className=\"small-text white-text berlin-font light-weight margin-top--- margin-bottom--- margin-left-2 margin-right-2\">{element.name}</span>\r\n                </div>\r\n            )\r\n        })\r\n    ) : (\r\n        <div className=\"medium-text berlin-font white-text\">No Search Results</div>\r\n    )\r\n\r\n    return (\r\n        <div className=\"friends-list\">\r\n            {view}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewSearching","import React from 'react';\r\n\r\nconst IconMenu = ({icon, changeVisibility, direction}) => {\r\n    const getClass = () => {\r\n        if (direction === \"right\") {\r\n            return \"margin-right\";\r\n        } else {\r\n            return \"margin-left\";\r\n        }\r\n    }\r\n    return (\r\n        <div className={\"icon-menu \" + getClass()}>\r\n            <img src={icon} alt=\"menu\" onClick={() => changeVisibility()}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default IconMenu","import firebase from 'firebase/app';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\n// Your web app's Firebase configuration\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyABIxtx0BnN6R_hXb92c3dNeLDYogUweiQ\",\r\n    authDomain: \"the-room-5affc.firebaseapp.com\",\r\n    databaseURL: \"https://the-room-5affc.firebaseio.com\",\r\n    projectId: \"the-room-5affc\",\r\n    storageBucket: \"\",\r\n    messagingSenderId: \"503115811992\",\r\n    appId: \"1:503115811992:web:0a2aa07fe1218f54\"\r\n};\r\n// Initialize Firebase\r\nconst fireApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst db = fireApp.firestore();\r\nconst auth = fireApp.auth();\r\n\r\nexport {db, auth};","import React, { createContext, Component } from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { auth } from '../components/auth/firebase';\r\n\r\nexport const LogContext = createContext();\r\n\r\nclass LogContextProvider extends Component {\r\n    state = { \r\n        signedin: false,\r\n        usersRef: null,\r\n        firebaseUser: null,\r\n        friends: [],\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        image: \"\",\r\n        gender: \"\",\r\n        listeners: [],\r\n    }\r\n\r\n    setFirstName = (firstName) => {\r\n        this.setState({firstName});\r\n    }\r\n\r\n    setLastName = (lastName) => {\r\n        this.setState({lastName});\r\n    }\r\n\r\n    setImage = (image) => {\r\n        this.setState({image});\r\n    }\r\n\r\n    setGender = (gender) => {\r\n        this.setState({gender});\r\n    }\r\n\r\n    setUsersRef = (usersRef) => {\r\n        this.setState({usersRef});\r\n    }\r\n\r\n    setFriends = (friends) => {\r\n        this.setState({friends});\r\n        this.state.usersRef.doc(this.state.firebaseUser.uid).update({friends: friends});\r\n    }\r\n\r\n    addListener = (listener) => {\r\n        let listeners = [...this.state.listeners, listener];\r\n        this.setState({listeners});\r\n    }\r\n\r\n    triggerLogout = () => {\r\n        for (let listener in this.state.listeners) {\r\n            this.state.listeners[listener]();\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        // run authentication state listener\r\n        auth.onAuthStateChanged(firebaseUser => {\r\n            if (firebaseUser) {\r\n                this.setState({firebaseUser, signedin: true});\r\n                this.props.history.push('./');\r\n            } else {\r\n                this.setState({firebaseUser, signedin: false});\r\n                console.log(\"not logged in\");\r\n            }\r\n        })\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <LogContext.Provider value={{\r\n                ...this.state,\r\n                changeSignedIn: this.changeSignedIn,\r\n                signInVerify: this.signInVerify,\r\n                setFirstName: this.setFirstName,\r\n                setLastName: this.setLastName,\r\n                setUsersRef: this.setUsersRef,\r\n                setFriends: this.setFriends,\r\n                setImage: this.setImage,\r\n                setGender: this.setGender,\r\n                addListener: this.addListener,\r\n                triggerLogout: this.triggerLogout,\r\n            }}>\r\n                {this.props.children}\r\n            </LogContext.Provider>\r\n        );\r\n    }\r\n}\r\n \r\nexport default withRouter(LogContextProvider);","import React, {Component} from 'react';\r\nimport '../../styles/Friends.css';\r\nimport ViewFriends from '../view/ViewFriends';\r\nimport ViewSearching from '../view/ViewSearching';\r\nimport IconMenu from '../view/IconMenu';\r\nimport backIcon from '../../images/icons/back.svg';\r\nimport { LogContext } from '../../contexts/LogContext';\r\n\r\nclass Friends extends Component {\r\n    state = {\r\n        width: window.innerWidth,\r\n        current: 0,\r\n        searchList: [],\r\n        searching: false,\r\n    }\r\n\r\n    static contextType = LogContext;\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\"resize\", () => this.setState({width: window.innerWidth}));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"resize\", () => this.setState({width: window.innerWidth}));\r\n    }\r\n\r\n    getIcon = (iconName, changeVisibilityFunc, direction) => {\r\n        if (this.state.width <= 1000) {\r\n            return (\r\n                <div className=\"flex-row align\">\r\n                    <img className=\"friend-image margin-left box-shadow-2 cursor\" src={this.context.image} alt=\"my\"/>\r\n                    <div className=\"flex-row justify align friend-width margin-right-4\"><h1 className=\"small-text white-text berlin-font light-weight margin-top margin-bottom-2 friend-header\">Friends</h1></div>\r\n                    <IconMenu icon={iconName} changeVisibility={changeVisibilityFunc} direction={direction}/>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <div className=\"flex-row justify-start align\">\r\n                <img className=\"friend-image margin-left box-shadow-2 cursor\" src={this.context.image} alt=\"my\"/>\r\n                <div className=\"flex-row justify align friend-width\"><h1 className=\"small-text white-text berlin-font light-weight margin-top margin-bottom-2\">Friends</h1></div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    changeSearchingFalse = () => {\r\n        setTimeout(() => {this.setState({searching: false})}, 1000);\r\n    }\r\n\r\n    search = (e) => {\r\n        const { usersRef } = this.context;\r\n        if (this.state.searching === false) {\r\n            this.setState({searching: true});\r\n        }\r\n        let name = e.target.value;\r\n        let firstName = name.split(/\\s+/)[0];\r\n        let lastName = name.split(/\\s+/)[1];\r\n        let searchListID = [];\r\n        let searchList = [];\r\n\r\n        usersRef.where(\"firstName\", \"==\", firstName).get().then(querySnapshot => {\r\n            console.log(querySnapshot);\r\n            querySnapshot.forEach(doc => {\r\n                let sitem = {};\r\n                if (!searchListID.includes(doc.id)) {\r\n                    searchListID.push(doc.id);\r\n                    sitem.id = doc.id;\r\n                    sitem.name = doc.data().firstName + \" \" + doc.data().lastName;\r\n                    sitem.status = \"online\";\r\n                    sitem.image = doc.data().image;\r\n                    searchList.push(sitem);\r\n                }\r\n            });\r\n            this.setState({searchList});\r\n        });\r\n\r\n        if (lastName !== undefined) {\r\n            usersRef.where(\"firstName\", \"==\", lastName).get().then(querySnapshot => {\r\n                console.log(querySnapshot);\r\n                querySnapshot.forEach(doc => {\r\n                    let sitem = {};\r\n                    if (!searchListID.includes(doc.id)) {\r\n                        searchListID.push(doc.id);\r\n                        sitem.id = doc.id;\r\n                        sitem.name = doc.data().firstName + \" \" + doc.data().lastName;\r\n                        sitem.status = \"online\";\r\n                        sitem.image = doc.data().image;\r\n                        searchList.push(sitem);\r\n                    }\r\n                });\r\n                this.setState({searchList});\r\n            });\r\n        }\r\n\r\n        if (lastName !== undefined) {\r\n            usersRef.where(\"LastName\", \"==\", lastName).get().then(querySnapshot => {\r\n                console.log(querySnapshot);\r\n                querySnapshot.forEach(doc => {\r\n                    let sitem = {};\r\n                    if (!searchListID.includes(doc.id)) {\r\n                        searchListID.push(doc.id);\r\n                        sitem.id = doc.id;\r\n                        sitem.name = doc.data().firstName + \" \" + doc.data().lastName;\r\n                        sitem.status = \"online\";\r\n                        sitem.image = doc.data().image;\r\n                        searchList.push(sitem);\r\n                    }\r\n                });\r\n                this.setState({searchList});\r\n            });\r\n        }\r\n\r\n        usersRef.where(\"lastName\", \"==\", firstName).get().then(querySnapshot => {\r\n            console.log(querySnapshot);\r\n            querySnapshot.forEach(doc => {\r\n                let sitem = {};\r\n                if (!searchListID.includes(doc.id)) {\r\n                    searchListID.push(doc.id);\r\n                    sitem.id = doc.id;\r\n                    sitem.name = doc.data().firstName + \" \" + doc.data().lastName;\r\n                    sitem.status = \"online\";\r\n                    sitem.image = doc.data().image;\r\n                    searchList.push(sitem);\r\n                }\r\n            });\r\n            this.setState({searchList});\r\n        });\r\n    }\r\n\r\n    addFriend = (idx) => {\r\n        let addedFriend = [...this.state.searchList][idx];\r\n\r\n        // check if the user is already friend w/ the selected friend\r\n        if (this.context.firebaseUser.uid === addedFriend.id) {\r\n            return;\r\n        }\r\n        let flag = false;\r\n        for (let friend of this.props.friends) {\r\n            console.log(\"friend: \", friend.id, \" added friend: \", addedFriend.id, (friend.id === addedFriend.id));\r\n            if (friend.id === addedFriend.id) {\r\n                flag = true;\r\n                break;\r\n            }\r\n        }\r\n\r\n        if (!flag) {\r\n            // the selected friend is new\r\n            this.props.updateFriends(addedFriend);\r\n        }\r\n    }\r\n\r\n    selectFriend = (idx) => {\r\n        let selectedFriend = [...this.props.friends][idx];\r\n        this.setState({current: idx});\r\n        this.props.changeVisibilityFriends();\r\n        this.props.updateSelected(selectedFriend);\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.searching) {\r\n            return (\r\n                <div className=\"friends grid-item\">\r\n                    {this.getIcon(backIcon, this.props.changeVisibilityFriends, \"right\")}\r\n                    <input className=\"search-box small-text white-text berlin-font margin-bottom trans-background\" onChange={e => this.search(e)} placeholder=\"search\"/>\r\n                    <ViewFriends friends={this.props.friends} current={this.state.current} selectFriend={this.selectFriend}/>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"friends grid-item\">\r\n                    {this.getIcon(backIcon, this.props.changeVisibilityFriends, \"right\")}\r\n                    <input className=\"search-box small-text white-text berlin-font margin-bottom trans-background\" onBlur={() => this.changeSearchingFalse()} onChange={e => this.search(e)} placeholder=\"search\"/>\r\n                    <ViewSearching addFriend={this.addFriend} searchList={this.state.searchList} current={this.state.current}/>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Friends","import React from 'react';\r\n\r\nconst ViewMessages = ({messages, you, selectedFriend, getMessageStatus}) => {\r\n    const status = (message) => {\r\n        if (message.from !== you) {\r\n            return (\r\n                <div className=\"margin-left-fix align\">\r\n                    <img className=\"message-image margin-left-- box-shadow\" src={selectedFriend.image} alt=\"img\"/>\r\n                    <p className=\"message-from small-text black-text berlin-font light-weight white-background margin-left--\">{message.content}</p>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"margin-right-fix align\">\r\n                    <p className=\"message-to small-text white-text berlin-font light-weight blue-background margin-right---\">{message.content}</p>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n    const view = messages.length ? (\r\n        messages.map((message, idx) => {\r\n            return (\r\n                <div key={idx}>\r\n                    {status(message)}\r\n                </div>\r\n            )\r\n        })\r\n    ) : (\r\n        <h1 className=\"medium-text berlin-font white-text margin-top-2\">No messages in this conversation yet !!</h1>\r\n    )\r\n\r\n    return (\r\n        <div className=\"messages\">\r\n            {view}\r\n            {getMessageStatus(selectedFriend.name)}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewMessages","import React, {Component} from 'react';\r\nimport '../../styles/ChatArea.css';\r\nimport ViewMessages from '../view/ViewMessages';\r\nimport IconMenu from '../view/IconMenu';\r\nimport friendsIcon from '../../images/icons/friends.svg';\r\nimport menuIcon from '../../images/icons/menu.svg';\r\nimport { LogContext } from '../../contexts/LogContext';\r\n\r\nclass ChatArea extends Component {\r\n    \r\n    status = () => {\r\n        if (this.props.status) {\r\n            return (\r\n                <span className=\"status white-background small-text green-text berlin-font light-weight margin-top--\">online</span>\r\n            )\r\n        } else {\r\n            return (\r\n                <span className=\"status white-background small-text red-text berlin-font light-weight margin-top--\">offline</span>\r\n            )\r\n        }\r\n    }\r\n\r\n    static contextType = LogContext;\r\n\r\n    state = {\r\n        width: window.innerWidth,\r\n        message: \"\",\r\n        messageStatus: \"\",\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\"resize\", () => this.setState({width: window.innerWidth}));\r\n        window.onbeforeunload = (() => {\r\n            const { firebaseUser } = this.context;\r\n            let myId = firebaseUser.uid;\r\n            this.props.messagesRef.doc(this.props.messagesDocId).update({[myId + \"typing\"]: false})\r\n        })\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"resize\", () => this.setState({width: window.innerWidth}));\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        console.log(\"his status right now: \", this.props.hisStatus);\r\n        var messageBody = document.querySelector('.messages');\r\n        if (messageBody !== null) {\r\n            messageBody.scrollTop = messageBody.scrollHeight;\r\n        }\r\n    }\r\n\r\n    showIcon = (iconName, changeVisibilityFunc, direction) => {\r\n        if (this.state.width <= 1000) {\r\n            return (\r\n                <IconMenu icon={iconName} changeVisibility={changeVisibilityFunc} direction={direction}/>\r\n            )\r\n        }\r\n        return (\r\n            <span></span>\r\n        )\r\n    }\r\n\r\n    changeMessage = (e) => {\r\n        this.setState({message: e.target.value});\r\n        const { firebaseUser } = this.context;\r\n        let myId = firebaseUser.uid;\r\n        this.props.messagesRef.doc(this.props.messagesDocId).update({[myId + \"typing\"]: true})\r\n        if (e.target.value === \"\") {\r\n            this.props.messagesRef.doc(this.props.messagesDocId).update({[myId + \"typing\"]: false})\r\n        }\r\n    }\r\n\r\n    sendMessage = () => {\r\n        this.setState({message: \"\"});\r\n        this.props.sendMessage(this.state.message);\r\n        const { firebaseUser } = this.context;\r\n        let myId = firebaseUser.uid;\r\n        this.props.messagesRef.doc(this.props.messagesDocId).update({[myId + \"typing\"]: false})\r\n    }\r\n\r\n    getMessageStatus = (name) => {\r\n        if (this.props.hisStatus) {\r\n            return (\r\n                <div className=\"typing-status small-text berlin-font white-text\">{name + \" is typing...\"}</div>\r\n            )\r\n        } else {\r\n            return (\r\n                <span></span>\r\n            )\r\n        }\r\n    }\r\n\r\n    blurChanged = (e) => {\r\n        const { firebaseUser } = this.context;\r\n        let myId = firebaseUser.uid;\r\n        this.props.messagesRef.doc(this.props.messagesDocId).update({[myId + \"typing\"]: false})\r\n    }\r\n\r\n    render() {\r\n        if (this.context.firebaseUser) {\r\n            return (\r\n                <div className=\"chat-area grid-item\">\r\n                    <div className=\"flex-row align justify\">\r\n                        {this.showIcon(friendsIcon, this.props.changeVisibilityFriends, \"left\")}\r\n                        <div className=\"chat-status-bar margin-bottom--- margin-top---\">\r\n                            <span className=\"medium-text white-text bold-weight\">{this.props.selectedFriend.name}</span><br/>\r\n                            <span className=\"\">{this.status(this.props.selectedFriend)}</span>\r\n                        </div>\r\n                        {this.showIcon(menuIcon, this.props.changeVisibilityInfo, \"right\")}\r\n                    </div>\r\n                    <ViewMessages messages={this.props.messages} you={this.context.firebaseUser.uid} selectedFriend={this.props.selectedFriend} getMessageStatus={this.getMessageStatus}/>\r\n                    <div className=\"flex-row align justify margin-top---\">\r\n                        <textarea className=\"message-input berlin-font trans-background white-text margin-right\" onChange={e => this.changeMessage(e)} onBlur={e => this.blurChanged(e)} value={this.state.message} placeholder=\"send a message\"/>\r\n                        <button className=\"submit-button small-text berlin-font\" onClick={() => this.sendMessage()}>Send</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className=\"chat-area grid-item\">\r\n                    \r\n                </div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default ChatArea","import React from 'react';\r\n\r\nconst ViewButton = ({icon, label, color, onClick}) => {\r\n    return (\r\n        <div className=\"flex-row align button\" onClick={onClick}>\r\n            <img className=\"button-icon margin-left margin-top margin-bottom\" src={icon} alt=\"img\"/>\r\n            <span className={\"small-text \" + color + \"-text margin-left berlin-font\"}>{label}</span>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ViewButton","import React, {Component} from 'react';\r\nimport '../../styles/Informations.css';\r\nimport IconMenu from '../view/IconMenu';\r\nimport ViewButton from '../view/ViewButton';\r\nimport next from '../../images/icons/next.svg';\r\nimport logout from '../../images/icons/logout-white.svg';\r\nimport design from '../../images/icons/design-white.png';\r\nimport edit from '../../images/icons/edit-white.png';\r\nimport { auth } from '../auth/firebase';\r\nimport { LogContext } from '../../contexts/LogContext';\r\n\r\nclass Informations extends Component {\r\n    state = {\r\n        width: window.innerWidth,\r\n    }\r\n\r\n    componentDidMount() {\r\n        window.addEventListener(\"resize\", () => this.setState({width: window.innerWidth}));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener(\"resize\", () => this.setState({width: window.innerWidth}));\r\n    }\r\n\r\n    static contextType = LogContext;\r\n\r\n    getIcon = (iconName, changeVisibilityFunc, direction) => {\r\n        if (this.state.width <= 1000) {\r\n            return (\r\n                <div className=\"flex-row align\">\r\n                    <IconMenu icon={iconName} changeVisibility={changeVisibilityFunc} direction={direction}/>\r\n                    <h1 className=\"small-text white-text berlin-font light-weight margin-top margin-bottom-2 information-header\">Settings</h1>\r\n                </div>\r\n            )\r\n        }\r\n        return (\r\n            <div>\r\n                <h1 className=\"small-text white-text berlin-font light-weight margin-top margin-bottom-2\">Settings</h1>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    logOut = () => {\r\n        this.context.usersRef.doc(this.context.firebaseUser.uid).update({status: false});\r\n        this.context.triggerLogout();\r\n        auth.signOut();\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"informations grid-item\">\r\n                {this.getIcon(next, this.props.changeVisibilityInfo, \"left\")}\r\n                <ViewButton icon={logout} label={\"Log Out\"} color={\"white\"} onClick={this.logOut} />\r\n                <h1 className=\"small-text white-text berlin-font light-weight margin-top margin-bottom-2\">Options</h1>\r\n                <ViewButton icon={design} label={\"Change Color\"} color={\"white\"} onClick={() => this.props.changeColor()} />\r\n                <ViewButton icon={edit} label={\"Edit Nicknames\"} color={\"white\"} />\r\n                <h1 className=\"small-text white-text berlin-font light-weight margin-top margin-bottom-2\">Shared Files</h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Informations","import React, {Component} from 'react';\r\nimport '../../styles/Home.css';\r\nimport Friends from './Friends';\r\nimport ChatArea from './ChatArea';\r\nimport Informations from './Informations';\r\nimport { LogContext } from '../../contexts/LogContext';\r\nimport { db } from '../auth/firebase';\r\nimport man from '../../images/man.svg';\r\nimport woman from '../../images/woman.svg';\r\n\r\nclass Home extends Component {\r\n\r\n    _isMounted = false;\r\n\r\n    state = {\r\n        colors: [\"black\", \"blue\", \"orange\", \"red\", \"violet\"],\r\n        currentColor: 1,\r\n        loaded: false,\r\n        friendsVisible: false,\r\n        infoVisible: false,\r\n        friends: [],\r\n        messages: [],\r\n        messagesRef: null,\r\n        messagesDocId: \"\",\r\n        selectedFriend: {firstName: \"\", lastName: \"\"},\r\n        statusName: \"\",\r\n        status: false,\r\n    }\r\n\r\n    static contextType = LogContext;\r\n\r\n    componentWillMount() {\r\n        const { signedin } = this.context;\r\n        if (!signedin) {\r\n            this.props.history.push('./signin');\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        const { firebaseUser, firstName, lastName, image, gender, setImage, setFirstName, setLastName, setUsersRef, setFriends } = this.context;\r\n\r\n        // get the data of the currently logged in user\r\n        if (firebaseUser) {\r\n            let usersRef = db.collection(\"users\");\r\n            setUsersRef(usersRef);\r\n            usersRef.doc(firebaseUser.uid).update({status: true});\r\n\r\n            // get the user's data using the userID\r\n            let usersListener = usersRef.doc(firebaseUser.uid).onSnapshot(doc => {\r\n                console.log(doc);\r\n                if (doc.exists) {\r\n                    let friends = doc.data().friends;\r\n                    let firstName = doc.data().firstName;\r\n                    let lastName = doc.data().lastName;\r\n                    let image = doc.data().image;\r\n                    setFirstName(firstName);\r\n                    setLastName(lastName);\r\n                    setFriends(friends);\r\n                    setImage(image);\r\n\r\n                    // making friends list\r\n                    var realFriends = [];\r\n                    let firstTime = true;\r\n                    friends.forEach(element => {\r\n                        var fr = {};\r\n                        usersRef.doc(element).get().then(doc => {\r\n                            fr.id = doc.id;\r\n                            fr.name = doc.data().firstName + \" \" + doc.data().lastName;\r\n                            fr.status = doc.data().status;\r\n                            fr.gender = doc.data().gender;\r\n                            if (fr.gender === \"male\") {\r\n                                fr.image = man;\r\n                            } else {\r\n                                fr.image = woman;\r\n                            }\r\n                            realFriends.push(fr);\r\n                            if (this._isMounted) {\r\n                                this.setState({friends: realFriends});\r\n                            }\r\n                            if (firstTime) {\r\n                                this.updateSelected(realFriends[0]);\r\n                                firstTime = false;\r\n                            }\r\n                        })\r\n                    });\r\n                } else {\r\n                    usersRef.doc(firebaseUser.uid).set({\r\n                        friends: [],\r\n                        image,\r\n                        firstName,\r\n                        lastName,\r\n                        gender,\r\n                        status: true,\r\n                    })\r\n                }\r\n                if (this._isMounted) {\r\n                    this.setState({loaded: true});\r\n                }\r\n            })\r\n            this.context.addListener(usersListener)\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const { signedin } = this.context;\r\n        if (!signedin) {\r\n            this.props.history.push('./signin');\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    changeVisibilityFriends = () => {\r\n        if (this.state.friendsVisible) {\r\n            this.setState({friendsVisible: false});\r\n        } else {\r\n            this.setState({friendsVisible: true});\r\n        }\r\n    }\r\n\r\n    changeVisibilityInfo = () => {\r\n        if (this.state.infoVisible) {\r\n            this.setState({infoVisible: false});\r\n        } else {\r\n            this.setState({infoVisible: true});\r\n        }\r\n        \r\n    }\r\n\r\n    getHomeClass = () => {\r\n        let homeClass = \"home\";\r\n        if (this.state.friendsVisible) {\r\n            homeClass += \" yes-friend\";\r\n        } else if (this.state.infoVisible) {\r\n            homeClass += \" yes-info\";\r\n        }\r\n        console.log(homeClass);\r\n        return homeClass;\r\n    }\r\n\r\n    updateFriends = (friend) => {\r\n        const { friends, setFriends, usersRef, firebaseUser } = this.context;\r\n        let realFriends = [...this.state.friends, friend];\r\n        this.setState({friends: realFriends});\r\n        let friendsTemp = [...friends, friend.id];\r\n\r\n        // update the other user's friends\r\n        usersRef.doc(friend.id).get().then(doc => {\r\n            let friendsSec = doc.data().friends;\r\n            friendsSec.push(firebaseUser.uid);\r\n            usersRef.doc(friend.id).update({friends: friendsSec});\r\n        })\r\n\r\n        setFriends(friendsTemp);\r\n    }\r\n\r\n    updateSelected = (friend) => {\r\n        this.setState({selectedFriend: friend});\r\n        console.log(friend);\r\n        const { firebaseUser, usersRef } = this.context;\r\n        let myId = firebaseUser.uid;\r\n        let hisId = friend.id;\r\n        let messagesDocId = \"\";\r\n        if (myId < hisId) {\r\n            messagesDocId = myId + hisId;\r\n        } else {\r\n            messagesDocId = hisId + myId;\r\n        }\r\n\r\n        var messagesRef = db.collection(\"messages\");\r\n        this.setState({messagesRef, messagesDocId});\r\n        let messagesListener = messagesRef.doc(messagesDocId).onSnapshot(doc => {\r\n            if (doc.exists) {\r\n                let hisStatus = doc.data()[[hisId + \"typing\"]];\r\n                let myStatus = doc.data()[[myId + \"typing\"]];\r\n                this.setState({messages: doc.data().messages, [hisId + \"typing\"]: hisStatus, [myId + \"typing\"]: myStatus, statusName: [hisId + \"typing\"]});\r\n            } else {\r\n                messagesRef.doc(messagesDocId).set({\r\n                    messages: [],\r\n                    [hisId + \"typing\"]: false,\r\n                    [myId + \"typing\"]: false\r\n                })\r\n            }\r\n        })\r\n\r\n        let statusListener = usersRef.doc(hisId).onSnapshot(doc => {\r\n            this.setState({status: doc.data().status});\r\n        })\r\n\r\n        this.context.addListener(messagesListener);\r\n        this.context.addListener(statusListener);\r\n    }\r\n\r\n    sendMessage = (message) => {\r\n        console.log(message);\r\n        let mes = {};\r\n        mes.content = message;\r\n        mes.from = this.context.firebaseUser.uid;\r\n        mes.to = this.state.selectedFriend.id;\r\n        this.state.messages.push(mes);\r\n        this.state.messagesRef.doc(this.state.messagesDocId).update({messages: this.state.messages});\r\n    }\r\n\r\n    changeColor = () => {\r\n        let currentColor = this.state.currentColor;\r\n        currentColor++;\r\n        if (currentColor >= this.state.colors.length) {\r\n            currentColor = 0;\r\n        }\r\n        this.setState({currentColor});\r\n    }\r\n\r\n    render() {\r\n        if (this._isMounted) {\r\n            return (\r\n                <div className={this.getHomeClass() + \" \" + this.state.colors[this.state.currentColor] + \"-linear\"}>\r\n                    <Friends changeVisibilityFriends={this.changeVisibilityFriends} friends={this.state.friends} updateFriends={this.updateFriends} updateSelected={this.updateSelected} />\r\n                    <ChatArea changeVisibilityFriends={this.changeVisibilityFriends} changeVisibilityInfo={this.changeVisibilityInfo} selectedFriend={this.state.selectedFriend} messages={this.state.messages} sendMessage={this.sendMessage} messagesRef={this.state.messagesRef} messagesDocId={this.state.messagesDocId} hisStatus={this.state[this.state.statusName]} status={this.state.status} />\r\n                    <Informations changeVisibilityInfo={this.changeVisibilityInfo} history={this.props.history} changeColor={this.changeColor} status={this.state.status} />\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div></div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Home","import React, {Component} from 'react';\r\nimport '../../styles/Signin.css';\r\nimport {auth} from './firebase';\r\n\r\nclass Signin extends Component {\r\n    state = { \r\n        email: \"\",\r\n        password: \"\"\r\n    }\r\n\r\n    changeEmail = (e) => {\r\n        this.setState({email: e.target.value});\r\n    }\r\n\r\n    changePassword = (e) => {\r\n        this.setState({password: e.target.value});\r\n    }\r\n\r\n    submit = (e) => {\r\n        e.preventDefault();\r\n\r\n        // authentication\r\n        const promise = auth.signInWithEmailAndPassword(this.state.email, this.state.password);\r\n        promise.catch(error => console.log(error));\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <div className=\"signin\">\r\n                <form className=\"signin-form\" onSubmit={e => this.submit(e)}>\r\n                    <h1 className=\"large-text white-text berlin-font margin-top-2\">SIGN IN<span className=\"orange-text\">.</span></h1>\r\n                    <input className=\"input-text small-text white-text berlin-font trans-background margin-top-4\" type=\"text\" value={this.state.email} onChange={e => this.changeEmail(e)} placeholder=\"email address\"/>\r\n                    <input className=\"input-text small-text white-text berlin-font trans-background margin-top\" type=\"password\" value={this.state.password} onChange={e => this.changePassword(e)} placeholder=\"password\"/>\r\n                    <button className=\"submit-button small-text berlin-font margin-top-2\">LOG IN</button>\r\n                    <button type=\"button\" className=\"submit-button button-orange small-text berlin-font margin-top-4 margin-bottom-2\" onClick={() => {this.props.history.push('./signup')}}>SIGN UP</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default Signin;","import React, {Component} from 'react';\r\nimport {auth} from './firebase';\r\nimport { LogContext } from '../../contexts/LogContext';\r\nimport man from '../../images/man.svg';\r\nimport woman from '../../images/woman.svg';\r\n\r\nclass Signup extends Component {\r\n    state = { \r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        imageUrl: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        image: \"\",\r\n        gender: \"\",\r\n    }\r\n\r\n    static contextType = LogContext;\r\n\r\n    changeFirst = (e) => {\r\n        this.setState({firstName: e.target.value});\r\n    }\r\n\r\n    changeLast = (e) => {\r\n        this.setState({lastName: e.target.value});\r\n    }\r\n\r\n    changeEmail = (e) => {\r\n        this.setState({email: e.target.value});\r\n    }\r\n\r\n    changePassword = (e) => {\r\n        this.setState({password: e.target.value});\r\n    }\r\n\r\n    /*changeImage = (e) => {\r\n        var files=e.target.files;\r\n        var mimeType=files[0].type; // You can get the mime type\r\n        console.log(mimeType, mimeType.indexOf(\"image\"));\r\n        if (mimeType.indexOf(\"image\") === -1) {\r\n            console.log(\"here\");\r\n            return;\r\n        } else {\r\n            let value = files[0];\r\n            let state = {...this.state};\r\n            state[\"imageUrl\"] = value;\r\n            state[\"image\"] = e.target.value;\r\n            this.setState(state);\r\n        }\r\n    }*/\r\n\r\n    changeGender = (e) => {\r\n        let value = e.target.value;\r\n        let image = \"\"\r\n        if (value === \"male\") {\r\n            image = man;\r\n        } else {\r\n            image = woman;\r\n        }\r\n        this.setState({gender: value, image});\r\n    }\r\n\r\n    submit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const { setFirstName, setLastName, setImage, setGender } = this.context;\r\n\r\n        // authentication\r\n        const promise = auth.createUserWithEmailAndPassword(this.state.email, this.state.password);\r\n        promise.catch(error => {console.log(error);return;});\r\n\r\n        setFirstName(this.state.firstName);\r\n        setLastName(this.state.lastName);\r\n        setImage(this.state.image);\r\n        setGender(this.state.gender);\r\n    }\r\n\r\n    render() { \r\n        return ( \r\n            <div className=\"signin\">\r\n                <form className=\"signin-form\" onSubmit={e => this.submit(e)}>\r\n                    <h1 className=\"large-text white-text berlin-font margin-top-2\">SIGN UP<span className=\"orange-text\">.</span></h1>\r\n                    <div>\r\n                        <input className=\"input-text text-name small-text white-text berlin-font trans-background margin-top-4 margin-right\" type=\"text\" value={this.state.firstName} onChange={e => this.changeFirst(e)} placeholder=\"first name\"/>\r\n                        <input className=\"input-text text-name small-text white-text berlin-font trans-background margin-top\" type=\"text\" value={this.state.lastName} onChange={e => this.changeLast(e)} placeholder=\"last name\"/>\r\n                    </div>\r\n                    <select className=\"input-text small-text blue-text berlin-font white-background margin-top\" onChange={e => this.changeGender(e)} required>\r\n                        <option className=\"blue-text\" value=\"\">none</option>\r\n                        <option className=\"blue-text\" value=\"male\">male</option>\r\n                        <option className=\"blue-text\" value=\"female\">female</option>\r\n                    </select>\r\n                    <input className=\"input-text small-text white-text berlin-font trans-background margin-top\" type=\"text\" value={this.state.email} onChange={e => this.changeEmail(e)} placeholder=\"email\"/>\r\n                    <input className=\"input-text small-text white-text berlin-font trans-background margin-top\" type=\"password\" value={this.state.password} onChange={e => this.changePassword(e)} placeholder=\"password\"/>\r\n                    <button className=\"submit-button small-text berlin-font margin-top-2\">SIGN UP</button>\r\n                    <button type=\"button\" className=\"submit-button button-orange small-text berlin-font margin-top-4 margin-bottom-2\" onClick={() => {this.props.history.push('./signin')}}>SIGN IN</button>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Signup;","import React, {Component} from 'react';\nimport {BrowserRouter, Route} from 'react-router-dom';\nimport './styles/App.css';\nimport Home from './components/layout/Home';\nimport Signin from './components/auth/Signin';\nimport Signup from './components/auth/Signup';\nimport LogContextProvider from './contexts/LogContext';\n\nclass App extends Component {\n  state = {\n    signedin: false,\n  }\n\n  render() {\n    return(\n      <BrowserRouter>\n        <div className=\"App\">\n          <LogContextProvider>\n            <Route exact path='/theroom/' render={(props) => <Home {...props}/>} />\n            <Route path='/theroom/signin' component={Signin}/>\n            <Route path='/theroom/signup' component={Signup}/>\n          </LogContextProvider>\n        </div>\n      </BrowserRouter>\n    )\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}